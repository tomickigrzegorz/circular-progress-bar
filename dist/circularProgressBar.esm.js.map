{"version":3,"file":"circularProgressBar.esm.js","sources":["../sources/helpers/defaults.js","../sources/helpers/function.js","../sources/index.js"],"sourcesContent":["/**\n * @typedef {Object} - Default object\n * @prop {String} [colorSlice] - Progress color circle\n * @prop {String} [fontColor] - Font color\n * @prop {String} [fontSize] - Font size\n * @prop {Number} [fontWeight] - Font weight\n * @prop {Array} [linearGradient] - Linear gradien for circle\n * @prop {Boolean} [number] - Show/hide number\n * @prop {Boolean} [round] - Path rounding\n * @prop {String} [fill] - Inner circle color\n * @prop {String} [unit] - Different unit instead of percentage (%) inside the circle\n * @prop {Number} [rotation] - Chart rotation\n * @prop {Number} [size] - Size progress bar width and height in px\n * @prop {Number} [stroke] - Stroke width, chart thickness\n */\n/**\n * Returns the default options of the component\n * @return {CPBOptions}\n */\nconst defaultOptions = {\n  colorSlice: \"#00a1ff\",\n  fontColor: \"#000\",\n  fontSize: \"1.6rem\",\n  fontWeight: 400,\n  lineargradient: false,\n  number: true,\n  round: false,\n  fill: \"none\",\n  unit: \"%\",\n  rotation: -90,\n  size: 200,\n  stroke: 10,\n};\n\nexport default defaultOptions;\n","/**\n *\n * @param {Object} object\n * @returns {String}\n */\nconst styleTransform = ({ rotation, animationSmooth }) => {\n  const smoothAnimation = animationSmooth\n    ? `transition: stroke-dashoffset ${animationSmooth}`\n    : \"\";\n\n  return `transform:rotate(${rotation}deg);transform-origin: 50% 50%;${smoothAnimation}`;\n};\n\n/**\n * Set \"stroke-dasharray\": \"1, 2\"\n * @param {String} type\n * @returns {Object}\n */\nconst strokeDasharray = (type) => {\n  return {\n    \"stroke-dasharray\": type || \"264\",\n  };\n};\n\n/**\n * Set type stroke-linecap\n * @param {String} round\n * @returns {Object}\n */\nconst strokeLinecap = ({ round }) => {\n  return {\n    \"stroke-linecap\": round ? \"round\" : \"\",\n  };\n};\n\n/**\n * Set font sieze/weight\n *\n * @param {Object} options\n * @returns {Object}\n */\nconst fontSettings = (options) => {\n  return {\n    \"font-size\": options.fontSize,\n    \"font-weight\": options.fontWeight,\n  };\n};\n\n/**\n *\n * @param {String} element\n * @returns {HTMLElement}\n */\nconst querySelector = (element) => document.querySelector(element);\n\n/**\n * Set color or linear-gradient\n *\n * @param {String} element\n * @param {Object} object\n */\nconst setColor = (element, { lineargradient, index, colorSlice }) => {\n  element.setAttribute(\n    \"stroke\",\n    lineargradient ? `url(#linear-${index})` : colorSlice,\n  );\n};\n\n/**\n * Set attribute to specific element\n *\n * @param {String} element\n * @param {Object} object\n */\nconst setAttribute = (element, object) => {\n  for (const key in object) {\n    element?.setAttribute(key, object[key]);\n  }\n};\n\n/**\n * Create svg element\n *\n * @param {String} type\n * @returns {SVGElement}\n */\nconst createNSElement = (type) =>\n  document.createElementNS(\"http://www.w3.org/2000/svg\", type);\n\n/**\n * Create svg tspan\n *\n * @param {String} className\n * @param {String} unit\n * @returns {HTMLElement}\n */\nconst tspan = (className, unit) => {\n  const element = createNSElement(\"tspan\");\n\n  element.classList.add(className);\n  if (unit) element.textContent = unit;\n  return element;\n};\n\n/**\n * Function generate stroke-dashoffset\n *\n * @param {Number} count\n * @param {Boolean} inverse - Counterclockwise animation\n * @param {Number} cut - Angle of the circle sector\n * @returns {Number}\n */\nconst dashOffset = (count, inverse, cut) => {\n\n  const maxPercent = 100;\n  const full = cut ? 264 * ((100 - cut) / 100) : 264;\n  const normalizedPercent = Math.min(count, maxPercent);\n  const progress = (normalizedPercent / 100) * full;\n\n  return inverse ? progress : full - progress;\n};\n\n/**\n * @param {HTMLElement} element\n * @param {HTMLElement} el\n * @param {String} type\n */\nconst insertAdElement = (element, el, type = \"beforeend\") =>\n  element.insertAdjacentElement(type, el);\n\n/**\n * Generator function linear-gradient stop svg elements\n *\n * @param {Object} object\n */\nconst gradient = ({ index, lineargradient }) => {\n  const defsElement = createNSElement(\"defs\");\n  const linearGradient = createNSElement(\"linearGradient\");\n  linearGradient.id = `linear-${index}`;\n\n  const countGradient = [].slice.call(lineargradient);\n\n  defsElement.appendChild(linearGradient);\n\n  let number = 0;\n  countGradient.map((item) => {\n    const stopElements = createNSElement(\"stop\");\n\n    const stopObj = {\n      offset: `${number}%`,\n      \"stop-color\": `${item}`,\n    };\n    setAttribute(stopElements, stopObj);\n\n    linearGradient.appendChild(stopElements);\n    number += 100 / (countGradient.length - 1);\n  });\n\n  return defsElement;\n};\n\n/**\n * A function that generates tspan\n * elements with a number and unit\n *\n * @param {Object} options - Global configuration\n * @param {String} className\n */\nconst percent = (options, className) => {\n  const creatTextElementSVG = createNSElement(\"text\");\n\n  creatTextElementSVG.classList.add(`${className}-text-${options.index}`);\n\n  // create tspan element with number\n  // and insert to svg text element\n  insertAdElement(\n    creatTextElementSVG,\n    tspan(`${className}-percent-${options.index}`),\n  );\n\n  // create and insert unit to text element\n  insertAdElement(\n    creatTextElementSVG,\n    tspan(`${className}-unit-${options.index}`, options.unit),\n  );\n\n  // config to svg text\n  const obj = {\n    x: \"50%\",\n    y: \"50%\",\n    fill: options.fontColor,\n    \"text-anchor\": \"middle\",\n    dy: options.textPosition || \"0.35em\",\n    ...fontSettings(options),\n  };\n\n  setAttribute(creatTextElementSVG, obj);\n  return creatTextElementSVG;\n};\n\nexport {\n  createNSElement,\n  dashOffset,\n  fontSettings,\n  gradient,\n  insertAdElement,\n  percent,\n  querySelector,\n  setAttribute,\n  setColor,\n  strokeDasharray,\n  strokeLinecap,\n  styleTransform,\n};\n","  import defaultOptions from \"./helpers/defaults\";\nimport {\n  createNSElement,\n  dashOffset,\n  fontSettings,\n  gradient,\n  insertAdElement,\n  percent,\n  querySelector,\n  setAttribute,\n  setColor,\n  strokeDasharray,\n  strokeLinecap,\n  styleTransform,\n} from \"./helpers/function\";\n\n/**\n * @class\n */\nexport default class CircularProgressBar {\n  /**\n   * CircularProgressBar constructor\n   *\n   * @param {String} pieName - class name\n   * @param {Object} globalObj - global configuration\n   */\n  constructor(pieName, globalObj = {}) {\n    this._className = pieName;\n    this._globalObj = globalObj;\n\n    const pieElements = document.querySelectorAll(`.${pieName}`);\n    const elements = [].slice.call(pieElements);\n    // add index to all progressbar\n    elements.map((item, idx) => {\n      const id = JSON.parse(item.getAttribute(\"data-pie\"));\n      item.setAttribute(\n        \"data-pie-index\",\n        id.index || globalObj.index || idx + 1,\n      );\n    });\n\n    this._elements = elements;\n  }\n\n  /**\n   * @param {object} outside\n   */\n  initial(outside) {\n    const triggeredOutside = outside || this._elements;\n    Array.isArray(triggeredOutside)\n      ? triggeredOutside.map((element) => this._createSVG(element))\n      : this._createSVG(triggeredOutside);\n  }\n\n  /**\n   * @param {SVGAElement} svg\n   * @param {HTMLElement} target\n   * @param {Object} options\n   */\n  _progress(svg, target, options) {\n    const pieName = this._className;\n    if (options.number) {\n      insertAdElement(svg, percent(options, pieName));\n    }\n\n    const progressCircle = querySelector(`.${pieName}-circle-${options.index}`);\n\n    const configCircle = {\n      fill: \"none\",\n      \"stroke-width\": options.stroke,\n      \"stroke-dashoffset\": \"264\",\n      ...strokeDasharray(),\n      ...strokeLinecap(options),\n    };\n    setAttribute(progressCircle, configCircle);\n\n    // animation progress\n    this.animationTo({ ...options, element: progressCircle }, true);\n\n    // set style and rotation\n    progressCircle.setAttribute(\"style\", styleTransform(options));\n\n    // set color\n    setColor(progressCircle, options);\n\n    // set width and height on div\n    target.setAttribute(\n      \"style\",\n      `width:${options.size}px;height:${options.size}px;`,\n    );\n  }\n\n  /**\n   * Callback function\n   *\n   * @param {Object} options\n   * @param {Boolean} initial\n   */\n  animationTo(options, initial = false) {\n    const pieName = this._className;\n    const previousConfigObj = JSON.parse(\n      querySelector(`[data-pie-index=\"${options.index}\"]`).getAttribute(\n        \"data-pie\",\n      ),\n    );\n\n    const circleElement = querySelector(`.${pieName}-circle-${options.index}`);\n\n    if (!circleElement) return;\n\n    // merging all configuration objects\n    const commonConfiguration = initial\n      ? options\n      : {\n          ...defaultOptions,\n          ...previousConfigObj,\n          ...options,\n          ...this._globalObj,\n        };\n\n    // update color circle\n    if (!initial) {\n      setColor(circleElement, commonConfiguration);\n    }\n\n    // font color update\n    if (!initial && commonConfiguration.number) {\n      const fontconfig = {\n        fill: commonConfiguration.fontColor,\n        ...fontSettings(commonConfiguration),\n      };\n      const textElement = querySelector(\n        `.${pieName}-text-${commonConfiguration.index}`,\n      );\n      setAttribute(textElement, fontconfig);\n    }\n\n    const centerNumber = querySelector(`.${pieName}-percent-${options.index}`);\n\n    if (commonConfiguration.animationOff) {\n      if (commonConfiguration.number)\n        centerNumber.textContent = `${commonConfiguration.percent}`;\n      circleElement.setAttribute(\n        \"stroke-dashoffset\",\n        dashOffset(commonConfiguration.percent * ((100 - (commonConfiguration.cut || 0)) / 100), commonConfiguration.inverse),\n      );\n      return;\n    }\n\n    // get numer percent from data-angel\n    let angle = JSON.parse(circleElement.getAttribute(\"data-angel\"));\n\n    // round if number is decimal\n    const percent = Math.round(options.percent);\n\n    // if percent 0 then set at start 0%\n    if (percent === 0) {\n      if (commonConfiguration.number) centerNumber.textContent = \"0\";\n      circleElement.setAttribute(\"stroke-dashoffset\", \"264\");\n    }\n\n    if (percent < 0 || angle === percent) return;\n\n    let request;\n    let i = initial ? 0 : angle;\n\n    const fps = commonConfiguration.speed || 1000;\n    const interval = 1000 / fps;\n    const tolerance = 0.1;\n    let then = performance.now();\n\n    const performAnimation = (now) => {\n      request = requestAnimationFrame(performAnimation);\n      const delta = now - then;\n\n      if (delta >= interval - tolerance) {\n        then = now - (delta % interval);\n\n        // angle >= commonConfiguration.percent ? i-- : i++;\n        i = i < commonConfiguration.percent ? i + 1 : i - 1;\n      }\n\n      circleElement.setAttribute(\n        \"stroke-dashoffset\",\n        dashOffset(i, commonConfiguration.inverse, commonConfiguration.cut),\n      );\n      if (centerNumber && commonConfiguration.number) {\n        centerNumber.textContent = `${i}`;\n      }\n\n      circleElement.setAttribute(\"data-angel\", i);\n      circleElement.parentNode.setAttribute(\"aria-valuenow\", i);\n\n      if (i === percent) {\n        cancelAnimationFrame(request);\n      }\n\n      // return;\n    };\n\n    requestAnimationFrame(performAnimation);\n  }\n\n  /**\n   * Create svg elements\n   *\n   * @param {HTMLElement} element\n   */\n  _createSVG(element) {\n    const index = element.getAttribute(\"data-pie-index\");\n    const json = JSON.parse(element.getAttribute(\"data-pie\"));\n\n    const options = { ...defaultOptions, ...json, index, ...this._globalObj };\n\n    const svg = createNSElement(\"svg\");\n\n    const configSVG = {\n      role: \"progressbar\",\n      width: options.size,\n      height: options.size,\n      viewBox: \"0 0 100 100\",\n      \"aria-valuemin\": \"0\",\n      \"aria-valuemax\": \"100\",\n    };\n\n    setAttribute(svg, configSVG);\n\n    // colorCircle\n    if (options.colorCircle) {\n      svg.appendChild(this._circle(options));\n    }\n\n    // gradient\n    if (options.lineargradient) {\n      svg.appendChild(gradient(options));\n    }\n\n    svg.appendChild(this._circle(options, \"top\"));\n\n    element.appendChild(svg);\n\n    this._progress(svg, element, options);\n  }\n\n  /**\n   * Create circle top/bottom\n   *\n   * @param {Object} options\n   * @param {String} where\n   * @returns {SVGElement}\n   */\n  _circle(options, where = \"bottom\") {\n    const circle = createNSElement(\"circle\");\n\n    let configCircle = {};\n    if (options.cut) {\n      const dashoffset = 264 - (100 - options.cut) * 2.64;\n      configCircle = {\n        \"stroke-dashoffset\": options.inverse ? -dashoffset : dashoffset,\n        style: styleTransform(options),\n        ...strokeDasharray(),\n        ...strokeLinecap(options),\n      };\n    }\n\n    const objCircle = {\n      fill: options.fill,\n      stroke: options.colorCircle,\n      \"stroke-width\": options.strokeBottom || options.stroke,\n      ...configCircle,\n    };\n\n    if (options.strokeDasharray) {\n      Object.assign(objCircle, { ...strokeDasharray(options.strokeDasharray) });\n    }\n\n    const typeCircle =\n      where === \"top\"\n        ? { class: `${this._className}-circle-${options.index}` }\n        : objCircle;\n\n    const objConfig = {\n      cx: \"50%\",\n      cy: \"50%\",\n      r: 42,\n      \"shape-rendering\": \"geometricPrecision\",\n      ...typeCircle,\n    };\n\n    setAttribute(circle, objConfig);\n\n    return circle;\n  }\n}\n"],"names":["defaultOptions","colorSlice","fontColor","fontSize","fontWeight","lineargradient","number","round","fill","unit","rotation","size","stroke","styleTransform","_ref","animationSmooth","smoothAnimation","strokeDasharray","type","strokeLinecap","_ref2","fontSettings","options","querySelector","element","document","setColor","_ref3","index","setAttribute","object","key","createNSElement","createElementNS","tspan","className","classList","add","textContent","dashOffset","count","inverse","cut","maxPercent","full","normalizedPercent","Math","min","progress","insertAdElement","el","insertAdjacentElement","gradient","_ref4","defsElement","linearGradient","id","countGradient","slice","call","appendChild","map","item","stopElements","stopObj","offset","length","percent","creatTextElementSVG","obj","x","y","dy","textPosition","CircularProgressBar","constructor","pieName","globalObj","_className","_globalObj","pieElements","querySelectorAll","elements","idx","JSON","parse","getAttribute","_elements","initial","outside","triggeredOutside","Array","isArray","_createSVG","_progress","svg","target","progressCircle","configCircle","animationTo","previousConfigObj","circleElement","commonConfiguration","fontconfig","textElement","centerNumber","animationOff","angle","request","i","fps","speed","interval","tolerance","then","performance","now","performAnimation","requestAnimationFrame","delta","parentNode","cancelAnimationFrame","json","configSVG","role","width","height","viewBox","colorCircle","_circle","where","circle","dashoffset","style","objCircle","strokeBottom","Object","assign","typeCircle","class","objConfig","cx","cy","r"],"mappings":"AAmBA,MAAMA,cAAc,GAAG;AACrBC,EAAAA,UAAU,EAAE,SAAS;AACrBC,EAAAA,SAAS,EAAE,MAAM;AACjBC,EAAAA,QAAQ,EAAE,QAAQ;AAClBC,EAAAA,UAAU,EAAE,GAAG;AACfC,EAAAA,cAAc,EAAE,KAAK;AACrBC,EAAAA,MAAM,EAAE,IAAI;AACZC,EAAAA,KAAK,EAAE,KAAK;AACZC,EAAAA,IAAI,EAAE,MAAM;AACZC,EAAAA,IAAI,EAAE,GAAG;EACTC,QAAQ,EAAE,CAAC,EAAE;AACbC,EAAAA,IAAI,EAAE,GAAG;AACTC,EAAAA,MAAM,EAAE,EAAA;AACV,CAAC;;AC3BD,MAAMC,cAAc,GAAGC,IAAA,IAAmC;EAAA,IAAlC;IAAEJ,QAAQ;AAAEK,IAAAA,eAAAA;AAAgB,GAAC,GAAAD,IAAA,CAAA;EACnD,MAAME,eAAe,GAAGD,eAAe,GAClC,iCAAgCA,eAAgB,CAAA,CAAC,GAClD,EAAE,CAAA;AAEN,EAAA,OAAQ,CAAmBL,iBAAAA,EAAAA,QAAS,CAAiCM,+BAAAA,EAAAA,eAAgB,CAAC,CAAA,CAAA;AACxF,CAAC,CAAA;AAOD,MAAMC,eAAe,GAAIC,IAAI,IAAK;EAChC,OAAO;IACL,kBAAkB,EAAEA,IAAI,IAAI,KAAA;GAC7B,CAAA;AACH,CAAC,CAAA;AAOD,MAAMC,aAAa,GAAGC,KAAA,IAAe;EAAA,IAAd;AAAEb,IAAAA,KAAAA;AAAM,GAAC,GAAAa,KAAA,CAAA;EAC9B,OAAO;AACL,IAAA,gBAAgB,EAAEb,KAAK,GAAG,OAAO,GAAG,EAAA;GACrC,CAAA;AACH,CAAC,CAAA;AAQD,MAAMc,YAAY,GAAIC,OAAO,IAAK;EAChC,OAAO;IACL,WAAW,EAAEA,OAAO,CAACnB,QAAQ;IAC7B,aAAa,EAAEmB,OAAO,CAAClB,UAAAA;GACxB,CAAA;AACH,CAAC,CAAA;AAOD,MAAMmB,aAAa,GAAIC,OAAO,IAAKC,QAAQ,CAACF,aAAa,CAACC,OAAO,CAAC,CAAA;AAQlE,MAAME,QAAQ,GAAGA,CAACF,OAAO,EAAAG,KAAA,KAA4C;EAAA,IAA1C;IAAEtB,cAAc;IAAEuB,KAAK;AAAE3B,IAAAA,UAAAA;AAAW,GAAC,GAAA0B,KAAA,CAAA;AAC9DH,EAAAA,OAAO,CAACK,YAAY,CAClB,QAAQ,EACRxB,cAAc,GAAI,CAAA,YAAA,EAAcuB,KAAM,CAAA,CAAA,CAAE,GAAG3B,UAC7C,CAAC,CAAA;AACH,CAAC,CAAA;AAQD,MAAM4B,YAAY,GAAGA,CAACL,OAAO,EAAEM,MAAM,KAAK;AACxC,EAAA,KAAK,MAAMC,GAAG,IAAID,MAAM,EAAE;IACxBN,OAAO,EAAEK,YAAY,CAACE,GAAG,EAAED,MAAM,CAACC,GAAG,CAAC,CAAC,CAAA;AACzC,GAAA;AACF,CAAC,CAAA;AAQD,MAAMC,eAAe,GAAId,IAAI,IAC3BO,QAAQ,CAACQ,eAAe,CAAC,4BAA4B,EAAEf,IAAI,CAAC,CAAA;AAS9D,MAAMgB,KAAK,GAAGA,CAACC,SAAS,EAAE1B,IAAI,KAAK;AACjC,EAAA,MAAMe,OAAO,GAAGQ,eAAe,CAAC,OAAO,CAAC,CAAA;AAExCR,EAAAA,OAAO,CAACY,SAAS,CAACC,GAAG,CAACF,SAAS,CAAC,CAAA;AAChC,EAAA,IAAI1B,IAAI,EAAEe,OAAO,CAACc,WAAW,GAAG7B,IAAI,CAAA;AACpC,EAAA,OAAOe,OAAO,CAAA;AAChB,CAAC,CAAA;AAUD,MAAMe,UAAU,GAAGA,CAACC,KAAK,EAAEC,OAAO,EAAEC,GAAG,KAAK;EAE1C,MAAMC,UAAU,GAAG,GAAG,CAAA;AACtB,EAAA,MAAMC,IAAI,GAAGF,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAGA,GAAG,IAAI,GAAG,CAAC,GAAG,GAAG,CAAA;EAClD,MAAMG,iBAAiB,GAAGC,IAAI,CAACC,GAAG,CAACP,KAAK,EAAEG,UAAU,CAAC,CAAA;AACrD,EAAA,MAAMK,QAAQ,GAAIH,iBAAiB,GAAG,GAAG,GAAID,IAAI,CAAA;AAEjD,EAAA,OAAOH,OAAO,GAAGO,QAAQ,GAAGJ,IAAI,GAAGI,QAAQ,CAAA;AAC7C,CAAC,CAAA;AAOD,MAAMC,eAAe,GAAG,UAACzB,OAAO,EAAE0B,EAAE,EAAEhC,IAAI,EAAA;AAAA,EAAA,IAAJA,IAAI,KAAA,KAAA,CAAA,EAAA;AAAJA,IAAAA,IAAI,GAAG,WAAW,CAAA;AAAA,GAAA;AAAA,EAAA,OACtDM,OAAO,CAAC2B,qBAAqB,CAACjC,IAAI,EAAEgC,EAAE,CAAC,CAAA;AAAA,CAAA,CAAA;AAOzC,MAAME,QAAQ,GAAGC,KAAA,IAA+B;EAAA,IAA9B;IAAEzB,KAAK;AAAEvB,IAAAA,cAAAA;AAAe,GAAC,GAAAgD,KAAA,CAAA;AACzC,EAAA,MAAMC,WAAW,GAAGtB,eAAe,CAAC,MAAM,CAAC,CAAA;AAC3C,EAAA,MAAMuB,cAAc,GAAGvB,eAAe,CAAC,gBAAgB,CAAC,CAAA;AACxDuB,EAAAA,cAAc,CAACC,EAAE,GAAI,CAAA,OAAA,EAAS5B,KAAM,CAAC,CAAA,CAAA;EAErC,MAAM6B,aAAa,GAAG,EAAE,CAACC,KAAK,CAACC,IAAI,CAACtD,cAAc,CAAC,CAAA;AAEnDiD,EAAAA,WAAW,CAACM,WAAW,CAACL,cAAc,CAAC,CAAA;EAEvC,IAAIjD,MAAM,GAAG,CAAC,CAAA;AACdmD,EAAAA,aAAa,CAACI,GAAG,CAAEC,IAAI,IAAK;AAC1B,IAAA,MAAMC,YAAY,GAAG/B,eAAe,CAAC,MAAM,CAAC,CAAA;AAE5C,IAAA,MAAMgC,OAAO,GAAG;MACdC,MAAM,EAAG,CAAE3D,EAAAA,MAAO,CAAE,CAAA,CAAA;MACpB,YAAY,EAAG,GAAEwD,IAAK,CAAA,CAAA;KACvB,CAAA;AACDjC,IAAAA,YAAY,CAACkC,YAAY,EAAEC,OAAO,CAAC,CAAA;AAEnCT,IAAAA,cAAc,CAACK,WAAW,CAACG,YAAY,CAAC,CAAA;IACxCzD,MAAM,IAAI,GAAG,IAAImD,aAAa,CAACS,MAAM,GAAG,CAAC,CAAC,CAAA;AAC5C,GAAC,CAAC,CAAA;AAEF,EAAA,OAAOZ,WAAW,CAAA;AACpB,CAAC,CAAA;AASD,MAAMa,OAAO,GAAGA,CAAC7C,OAAO,EAAEa,SAAS,KAAK;AACtC,EAAA,MAAMiC,mBAAmB,GAAGpC,eAAe,CAAC,MAAM,CAAC,CAAA;AAEnDoC,EAAAA,mBAAmB,CAAChC,SAAS,CAACC,GAAG,CAAE,CAAA,EAAEF,SAAU,CAAA,MAAA,EAAQb,OAAO,CAACM,KAAM,CAAA,CAAC,CAAC,CAAA;AAIvEqB,EAAAA,eAAe,CACbmB,mBAAmB,EACnBlC,KAAK,CAAE,CAAA,EAAEC,SAAU,CAAA,SAAA,EAAWb,OAAO,CAACM,KAAM,CAAA,CAAC,CAC/C,CAAC,CAAA;AAGDqB,EAAAA,eAAe,CACbmB,mBAAmB,EACnBlC,KAAK,CAAE,GAAEC,SAAU,CAAA,MAAA,EAAQb,OAAO,CAACM,KAAM,CAAC,CAAA,EAAEN,OAAO,CAACb,IAAI,CAC1D,CAAC,CAAA;AAGD,EAAA,MAAM4D,GAAG,GAAG;AACVC,IAAAA,CAAC,EAAE,KAAK;AACRC,IAAAA,CAAC,EAAE,KAAK;IACR/D,IAAI,EAAEc,OAAO,CAACpB,SAAS;AACvB,IAAA,aAAa,EAAE,QAAQ;AACvBsE,IAAAA,EAAE,EAAElD,OAAO,CAACmD,YAAY,IAAI,QAAQ;IACpC,GAAGpD,YAAY,CAACC,OAAO,CAAA;GACxB,CAAA;AAEDO,EAAAA,YAAY,CAACuC,mBAAmB,EAAEC,GAAG,CAAC,CAAA;AACtC,EAAA,OAAOD,mBAAmB,CAAA;AAC5B,CAAC;;ACnLc,MAAMM,mBAAmB,CAAC;AAOvCC,EAAAA,WAAWA,CAACC,OAAO,EAAEC,SAAS,EAAO;AAAA,IAAA,IAAhBA,SAAS,KAAA,KAAA,CAAA,EAAA;MAATA,SAAS,GAAG,EAAE,CAAA;AAAA,KAAA;IACjC,IAAI,CAACC,UAAU,GAAGF,OAAO,CAAA;IACzB,IAAI,CAACG,UAAU,GAAGF,SAAS,CAAA;IAE3B,MAAMG,WAAW,GAAGvD,QAAQ,CAACwD,gBAAgB,CAAE,CAAA,CAAA,EAAGL,OAAQ,CAAA,CAAC,CAAC,CAAA;IAC5D,MAAMM,QAAQ,GAAG,EAAE,CAACxB,KAAK,CAACC,IAAI,CAACqB,WAAW,CAAC,CAAA;AAE3CE,IAAAA,QAAQ,CAACrB,GAAG,CAAC,CAACC,IAAI,EAAEqB,GAAG,KAAK;AAC1B,MAAA,MAAM3B,EAAE,GAAG4B,IAAI,CAACC,KAAK,CAACvB,IAAI,CAACwB,YAAY,CAAC,UAAU,CAAC,CAAC,CAAA;AACpDxB,MAAAA,IAAI,CAACjC,YAAY,CACf,gBAAgB,EAChB2B,EAAE,CAAC5B,KAAK,IAAIiD,SAAS,CAACjD,KAAK,IAAIuD,GAAG,GAAG,CACvC,CAAC,CAAA;AACH,KAAC,CAAC,CAAA;IAEF,IAAI,CAACI,SAAS,GAAGL,QAAQ,CAAA;AAC3B,GAAA;EAKAM,OAAOA,CAACC,OAAO,EAAE;AACf,IAAA,MAAMC,gBAAgB,GAAGD,OAAO,IAAI,IAAI,CAACF,SAAS,CAAA;IAClDI,KAAK,CAACC,OAAO,CAACF,gBAAgB,CAAC,GAC3BA,gBAAgB,CAAC7B,GAAG,CAAErC,OAAO,IAAK,IAAI,CAACqE,UAAU,CAACrE,OAAO,CAAC,CAAC,GAC3D,IAAI,CAACqE,UAAU,CAACH,gBAAgB,CAAC,CAAA;AACvC,GAAA;AAOAI,EAAAA,SAASA,CAACC,GAAG,EAAEC,MAAM,EAAE1E,OAAO,EAAE;AAC9B,IAAA,MAAMsD,OAAO,GAAG,IAAI,CAACE,UAAU,CAAA;IAC/B,IAAIxD,OAAO,CAAChB,MAAM,EAAE;MAClB2C,eAAe,CAAC8C,GAAG,EAAE5B,OAAO,CAAC7C,OAAO,EAAEsD,OAAO,CAAC,CAAC,CAAA;AACjD,KAAA;IAEA,MAAMqB,cAAc,GAAG1E,aAAa,CAAE,CAAA,CAAA,EAAGqD,OAAQ,CAAA,QAAA,EAAUtD,OAAO,CAACM,KAAM,CAAA,CAAC,CAAC,CAAA;AAE3E,IAAA,MAAMsE,YAAY,GAAG;AACnB1F,MAAAA,IAAI,EAAE,MAAM;MACZ,cAAc,EAAEc,OAAO,CAACV,MAAM;AAC9B,MAAA,mBAAmB,EAAE,KAAK;MAC1B,GAAGK,eAAe,EAAE;MACpB,GAAGE,aAAa,CAACG,OAAO,CAAA;KACzB,CAAA;AACDO,IAAAA,YAAY,CAACoE,cAAc,EAAEC,YAAY,CAAC,CAAA;IAG1C,IAAI,CAACC,WAAW,CAAC;AAAE,MAAA,GAAG7E,OAAO;AAAEE,MAAAA,OAAO,EAAEyE,cAAAA;KAAgB,EAAE,IAAI,CAAC,CAAA;IAG/DA,cAAc,CAACpE,YAAY,CAAC,OAAO,EAAEhB,cAAc,CAACS,OAAO,CAAC,CAAC,CAAA;AAG7DI,IAAAA,QAAQ,CAACuE,cAAc,EAAE3E,OAAO,CAAC,CAAA;AAGjC0E,IAAAA,MAAM,CAACnE,YAAY,CACjB,OAAO,EACN,CAAQP,MAAAA,EAAAA,OAAO,CAACX,IAAK,CAAYW,UAAAA,EAAAA,OAAO,CAACX,IAAK,KACjD,CAAC,CAAA;AACH,GAAA;AAQAwF,EAAAA,WAAWA,CAAC7E,OAAO,EAAEkE,OAAO,EAAU;AAAA,IAAA,IAAjBA,OAAO,KAAA,KAAA,CAAA,EAAA;AAAPA,MAAAA,OAAO,GAAG,KAAK,CAAA;AAAA,KAAA;AAClC,IAAA,MAAMZ,OAAO,GAAG,IAAI,CAACE,UAAU,CAAA;AAC/B,IAAA,MAAMsB,iBAAiB,GAAGhB,IAAI,CAACC,KAAK,CAClC9D,aAAa,CAAE,CAAA,iBAAA,EAAmBD,OAAO,CAACM,KAAM,IAAG,CAAC,CAAC0D,YAAY,CAC/D,UACF,CACF,CAAC,CAAA;IAED,MAAMe,aAAa,GAAG9E,aAAa,CAAE,CAAA,CAAA,EAAGqD,OAAQ,CAAA,QAAA,EAAUtD,OAAO,CAACM,KAAM,CAAA,CAAC,CAAC,CAAA;IAE1E,IAAI,CAACyE,aAAa,EAAE,OAAA;AAGpB,IAAA,MAAMC,mBAAmB,GAAGd,OAAO,GAC/BlE,OAAO,GACP;AACE,MAAA,GAAGtB,cAAc;AACjB,MAAA,GAAGoG,iBAAiB;AACpB,MAAA,GAAG9E,OAAO;AACV,MAAA,GAAG,IAAI,CAACyD,UAAAA;KACT,CAAA;IAGL,IAAI,CAACS,OAAO,EAAE;AACZ9D,MAAAA,QAAQ,CAAC2E,aAAa,EAAEC,mBAAmB,CAAC,CAAA;AAC9C,KAAA;AAGA,IAAA,IAAI,CAACd,OAAO,IAAIc,mBAAmB,CAAChG,MAAM,EAAE;AAC1C,MAAA,MAAMiG,UAAU,GAAG;QACjB/F,IAAI,EAAE8F,mBAAmB,CAACpG,SAAS;QACnC,GAAGmB,YAAY,CAACiF,mBAAmB,CAAA;OACpC,CAAA;MACD,MAAME,WAAW,GAAGjF,aAAa,CAC9B,CAAA,CAAA,EAAGqD,OAAQ,CAAA,MAAA,EAAQ0B,mBAAmB,CAAC1E,KAAM,CAAA,CAChD,CAAC,CAAA;AACDC,MAAAA,YAAY,CAAC2E,WAAW,EAAED,UAAU,CAAC,CAAA;AACvC,KAAA;IAEA,MAAME,YAAY,GAAGlF,aAAa,CAAE,CAAA,CAAA,EAAGqD,OAAQ,CAAA,SAAA,EAAWtD,OAAO,CAACM,KAAM,CAAA,CAAC,CAAC,CAAA;IAE1E,IAAI0E,mBAAmB,CAACI,YAAY,EAAE;AACpC,MAAA,IAAIJ,mBAAmB,CAAChG,MAAM,EAC5BmG,YAAY,CAACnE,WAAW,GAAI,CAAEgE,EAAAA,mBAAmB,CAACnC,OAAQ,CAAC,CAAA,CAAA;AAC7DkC,MAAAA,aAAa,CAACxE,YAAY,CACxB,mBAAmB,EACnBU,UAAU,CAAC+D,mBAAmB,CAACnC,OAAO,IAAI,CAAC,GAAG,IAAImC,mBAAmB,CAAC5D,GAAG,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,EAAE4D,mBAAmB,CAAC7D,OAAO,CACtH,CAAC,CAAA;AACD,MAAA,OAAA;AACF,KAAA;AAGA,IAAA,IAAIkE,KAAK,GAAGvB,IAAI,CAACC,KAAK,CAACgB,aAAa,CAACf,YAAY,CAAC,YAAY,CAAC,CAAC,CAAA;IAGhE,MAAMnB,OAAO,GAAGrB,IAAI,CAACvC,KAAK,CAACe,OAAO,CAAC6C,OAAO,CAAC,CAAA;IAG3C,IAAIA,OAAO,KAAK,CAAC,EAAE;MACjB,IAAImC,mBAAmB,CAAChG,MAAM,EAAEmG,YAAY,CAACnE,WAAW,GAAG,GAAG,CAAA;AAC9D+D,MAAAA,aAAa,CAACxE,YAAY,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAA;AACxD,KAAA;AAEA,IAAA,IAAIsC,OAAO,GAAG,CAAC,IAAIwC,KAAK,KAAKxC,OAAO,EAAE,OAAA;AAEtC,IAAA,IAAIyC,OAAO,CAAA;AACX,IAAA,IAAIC,CAAC,GAAGrB,OAAO,GAAG,CAAC,GAAGmB,KAAK,CAAA;AAE3B,IAAA,MAAMG,GAAG,GAAGR,mBAAmB,CAACS,KAAK,IAAI,IAAI,CAAA;AAC7C,IAAA,MAAMC,QAAQ,GAAG,IAAI,GAAGF,GAAG,CAAA;IAC3B,MAAMG,SAAS,GAAG,GAAG,CAAA;AACrB,IAAA,IAAIC,IAAI,GAAGC,WAAW,CAACC,GAAG,EAAE,CAAA;IAE5B,MAAMC,gBAAgB,GAAID,GAAG,IAAK;AAChCR,MAAAA,OAAO,GAAGU,qBAAqB,CAACD,gBAAgB,CAAC,CAAA;AACjD,MAAA,MAAME,KAAK,GAAGH,GAAG,GAAGF,IAAI,CAAA;AAExB,MAAA,IAAIK,KAAK,IAAIP,QAAQ,GAAGC,SAAS,EAAE;AACjCC,QAAAA,IAAI,GAAGE,GAAG,GAAIG,KAAK,GAAGP,QAAS,CAAA;AAG/BH,QAAAA,CAAC,GAAGA,CAAC,GAAGP,mBAAmB,CAACnC,OAAO,GAAG0C,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,CAAA;AACrD,OAAA;AAEAR,MAAAA,aAAa,CAACxE,YAAY,CACxB,mBAAmB,EACnBU,UAAU,CAACsE,CAAC,EAAEP,mBAAmB,CAAC7D,OAAO,EAAE6D,mBAAmB,CAAC5D,GAAG,CACpE,CAAC,CAAA;AACD,MAAA,IAAI+D,YAAY,IAAIH,mBAAmB,CAAChG,MAAM,EAAE;AAC9CmG,QAAAA,YAAY,CAACnE,WAAW,GAAI,CAAA,EAAEuE,CAAE,CAAC,CAAA,CAAA;AACnC,OAAA;AAEAR,MAAAA,aAAa,CAACxE,YAAY,CAAC,YAAY,EAAEgF,CAAC,CAAC,CAAA;MAC3CR,aAAa,CAACmB,UAAU,CAAC3F,YAAY,CAAC,eAAe,EAAEgF,CAAC,CAAC,CAAA;MAEzD,IAAIA,CAAC,KAAK1C,OAAO,EAAE;QACjBsD,oBAAoB,CAACb,OAAO,CAAC,CAAA;AAC/B,OAAA;KAGD,CAAA;IAEDU,qBAAqB,CAACD,gBAAgB,CAAC,CAAA;AACzC,GAAA;EAOAxB,UAAUA,CAACrE,OAAO,EAAE;AAClB,IAAA,MAAMI,KAAK,GAAGJ,OAAO,CAAC8D,YAAY,CAAC,gBAAgB,CAAC,CAAA;AACpD,IAAA,MAAMoC,IAAI,GAAGtC,IAAI,CAACC,KAAK,CAAC7D,OAAO,CAAC8D,YAAY,CAAC,UAAU,CAAC,CAAC,CAAA;AAEzD,IAAA,MAAMhE,OAAO,GAAG;AAAE,MAAA,GAAGtB,cAAc;AAAE,MAAA,GAAG0H,IAAI;MAAE9F,KAAK;AAAE,MAAA,GAAG,IAAI,CAACmD,UAAAA;KAAY,CAAA;AAEzE,IAAA,MAAMgB,GAAG,GAAG/D,eAAe,CAAC,KAAK,CAAC,CAAA;AAElC,IAAA,MAAM2F,SAAS,GAAG;AAChBC,MAAAA,IAAI,EAAE,aAAa;MACnBC,KAAK,EAAEvG,OAAO,CAACX,IAAI;MACnBmH,MAAM,EAAExG,OAAO,CAACX,IAAI;AACpBoH,MAAAA,OAAO,EAAE,aAAa;AACtB,MAAA,eAAe,EAAE,GAAG;AACpB,MAAA,eAAe,EAAE,KAAA;KAClB,CAAA;AAEDlG,IAAAA,YAAY,CAACkE,GAAG,EAAE4B,SAAS,CAAC,CAAA;IAG5B,IAAIrG,OAAO,CAAC0G,WAAW,EAAE;MACvBjC,GAAG,CAACnC,WAAW,CAAC,IAAI,CAACqE,OAAO,CAAC3G,OAAO,CAAC,CAAC,CAAA;AACxC,KAAA;IAGA,IAAIA,OAAO,CAACjB,cAAc,EAAE;AAC1B0F,MAAAA,GAAG,CAACnC,WAAW,CAACR,QAAQ,CAAC9B,OAAO,CAAC,CAAC,CAAA;AACpC,KAAA;IAEAyE,GAAG,CAACnC,WAAW,CAAC,IAAI,CAACqE,OAAO,CAAC3G,OAAO,EAAE,KAAK,CAAC,CAAC,CAAA;AAE7CE,IAAAA,OAAO,CAACoC,WAAW,CAACmC,GAAG,CAAC,CAAA;IAExB,IAAI,CAACD,SAAS,CAACC,GAAG,EAAEvE,OAAO,EAAEF,OAAO,CAAC,CAAA;AACvC,GAAA;AASA2G,EAAAA,OAAOA,CAAC3G,OAAO,EAAE4G,KAAK,EAAa;AAAA,IAAA,IAAlBA,KAAK,KAAA,KAAA,CAAA,EAAA;AAALA,MAAAA,KAAK,GAAG,QAAQ,CAAA;AAAA,KAAA;AAC/B,IAAA,MAAMC,MAAM,GAAGnG,eAAe,CAAC,QAAQ,CAAC,CAAA;IAExC,IAAIkE,YAAY,GAAG,EAAE,CAAA;IACrB,IAAI5E,OAAO,CAACoB,GAAG,EAAE;MACf,MAAM0F,UAAU,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG9G,OAAO,CAACoB,GAAG,IAAI,IAAI,CAAA;AACnDwD,MAAAA,YAAY,GAAG;QACb,mBAAmB,EAAE5E,OAAO,CAACmB,OAAO,GAAG,CAAC2F,UAAU,GAAGA,UAAU;AAC/DC,QAAAA,KAAK,EAAExH,cAAc,CAACS,OAAO,CAAC;QAC9B,GAAGL,eAAe,EAAE;QACpB,GAAGE,aAAa,CAACG,OAAO,CAAA;OACzB,CAAA;AACH,KAAA;AAEA,IAAA,MAAMgH,SAAS,GAAG;MAChB9H,IAAI,EAAEc,OAAO,CAACd,IAAI;MAClBI,MAAM,EAAEU,OAAO,CAAC0G,WAAW;AAC3B,MAAA,cAAc,EAAE1G,OAAO,CAACiH,YAAY,IAAIjH,OAAO,CAACV,MAAM;MACtD,GAAGsF,YAAAA;KACJ,CAAA;IAED,IAAI5E,OAAO,CAACL,eAAe,EAAE;AAC3BuH,MAAAA,MAAM,CAACC,MAAM,CAACH,SAAS,EAAE;AAAE,QAAA,GAAGrH,eAAe,CAACK,OAAO,CAACL,eAAe,CAAA;AAAE,OAAC,CAAC,CAAA;AAC3E,KAAA;AAEA,IAAA,MAAMyH,UAAU,GACdR,KAAK,KAAK,KAAK,GACX;MAAES,KAAK,EAAG,GAAE,IAAI,CAAC7D,UAAW,CAAUxD,QAAAA,EAAAA,OAAO,CAACM,KAAM,CAAA,CAAA;AAAE,KAAC,GACvD0G,SAAS,CAAA;AAEf,IAAA,MAAMM,SAAS,GAAG;AAChBC,MAAAA,EAAE,EAAE,KAAK;AACTC,MAAAA,EAAE,EAAE,KAAK;AACTC,MAAAA,CAAC,EAAE,EAAE;AACL,MAAA,iBAAiB,EAAE,oBAAoB;MACvC,GAAGL,UAAAA;KACJ,CAAA;AAED7G,IAAAA,YAAY,CAACsG,MAAM,EAAES,SAAS,CAAC,CAAA;AAE/B,IAAA,OAAOT,MAAM,CAAA;AACf,GAAA;AACF;;;;"}